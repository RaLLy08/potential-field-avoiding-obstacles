<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PF Avoiding obstacles</title>
    <script src="./view/Components.js" defer></script>
    <script src="./view/helpers.js"></script>
    <script src="./index.js" defer ></script>
    <script src="./consts.js"></script>
    <script src="./Vector.js"></script>
    <script src="./Entity.js"></script>
    <script src="./Canvas.js"></script>
    <script src="./Utils.js"></script>
    <style>
        canvas { display:block; }
        body, html {
            font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
            min-height: 100%;
            height: 100vh;
            margin: 0;
        }
        .color-box {
            width: 1em;
            height: 1em;
        }
        .display-input {
            max-width: 40px
        }
        .displayParams {
            font-size: 0.9rem;
            position: relative;
            z-index: 999;
            display: inline-block;
            margin-top: 0.2rem;
            margin-left: 0.5rem;
        }
        .displayParams__displayWrapper {
            display: flex;
            align-items: center;
        }
        .displayParams__actions {
            display: block;
            margin: 0.25em;
            float: right
        }
        .actions__showHide {
            cursor: pointer;
        }
        label {
            cursor: pointer;
        }
        span[title] {
            cursor: default;
            margin-left: 0.2rem;
        }
        label[title] {
            margin-left: 0.2rem;
        }
        .displayParams table {
            margin-top: 0.4em;
            margin-bottom: 0.4em;
        }
        .displayParams summary {
            font-size: 1.2em;
            cursor: pointer;
        }
        input[type="checkbox"] {
            cursor: pointer;
        }
        .canvasWrapper {
            transform: translate(-50%, -50%); 
            position: absolute; 
            top: 50%; 
            left:50%; 
            display: flex;
        }
        canvas {
            border: dashed 1px;
        }
        .resetVehicle {
            cursor: pointer;
            position: absolute; 
            bottom: -40px;
            right: 0;
        }
        .pauseResume {
            cursor: pointer;
            position: absolute; 
            bottom: -40px;
            right: 110px;
        }
        details details {
            margin-left: 0.8em;
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="displayParams">
            <details open>
                <summary>Params</summary>
                <details open>
                    <summary>Vehicle</summary>
                    <details open>
                        <summary>Position</summary>
                        <table>
                            <tr class="displayParams__row">
                                <td>
                                    <span title="X">X</span>
                                    <input id="x" class="display-input" readonly>            
                                </td>
                                <td>
                                    <span title="Y">Y</span>
                                    <input id="y" class="display-input" readonly>
                                </td>
                            </tr>
                        </table>
                    </details>
                    <details open>
                        <summary>Forces</summary>
                        <table>
                            <tr class="displayParams__row">
                                <td>
                                </td>
                                <td>
                                    <input id="total-force" class="display-input" readonly>            
                                </td>
                                <td>
                                    <span title="Total Force/Speed"> F(tot) or V</span>
                                </td>
                            </tr>
                            <tr class="displayParams__row">
                                <td>
                                </td>
                                <td>
                                    <input id="attractive-force" class="display-input" readonly>
                                </td>
                                <td>
                                    <span title="Attractive Force"> F(att) </span>
                                </td>
                            </tr>
                            <tr class="displayParams__row">
                                <td>
                                </td>
                                <td>
                                    <input id="repulsive-force-total" class="display-input" readonly>
                                </td>
                                <td>
                                    <span title="Repulsive Force"> F(rep) total </span>
                                </td>
                            </tr>
                            <tr class="displayParams__row">
                                <td>
                                </td>
                                <td>
                                    <input id="repulsive-force-new-total" class="display-input" readonly>
                                </td>
                                <td>
                                    <span title="Repulsive New Force"> F(rep_new) total</span>
                                </td>
                            </tr>
                            <tr class="displayParams__row">
                                <td>
                                </td>
                                <td>
                                    <input id="theta" class="display-input" readonly>
                                </td>
                                <td>
                                    <span title="Angle between Total and Repulsive Force">F(att) and F(tot) angle (&Theta;) </span>
                                </td>
                            </tr>
                            <tr class="displayParams__row">
                                <td>
                                </td>
                                <td>
                                    <input id="sigma" class="display-input" readonly>
                                </td>
                                <td>
                                    <span title="Angle between Total and Attractive Force"> F(rep) and F(tot) angle (&sigma;) </span>
                                </td>
                            </tr>
                            <tr class="displayParams__row">
                                <td>
                                </td>
                                <td>
                                    <input id="gamma" class="display-input" readonly>
                                </td>
                                <td>
                                    <span title="Angle Repulsive and Attractive Force"> F(att) and F(rep) angle (&gamma;) </span>
                                </td>
                            </tr>
                        </table>
                    </details>
                </details>
                <details open > 
                    <summary>Canvas</summary>
                    <table>
                        <tr>
                            <td>
                                <div class="displayParams__displayWrapper">
                                    <input disabled id="vectors-flow-field-checkbox" type="checkbox"></input>
                                    <label for="vectors-flow-field-checkbox" id="vectors-flow-color" class="color-box"></label>
                                </div>
                            </td>
                            <td>
                                <label for="vectors-flow-field-checkbox" title="Vectors Flow"> Vectors Flow</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="displayParams__displayWrapper">
                                    <input id="vehicle-checkbox" type="checkbox"></input>
                                    <label for="vehicle-checkbox" id="vehicle-color" class="color-box"></label>
                                </div>
                            </td>
                            <td>
                                <label for="vehicle-checkbox" title="Vehicle"> Vehicle</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="displayParams__displayWrapper">
                                    <input id="vehicle-field-radius-checkbox" type="checkbox"></input>
                                    <label for="vehicle-field-radius-checkbox" id="vehicle-field-radius-color" class="color-box"></label>
                                </div>
                            </td>
                            <td>
                                <label for="vehicle-field-radius-checkbox" title="Vehicle"> Vehicle Field Radius</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="displayParams__displayWrapper">
                                    <input id="total-force-field-checkbox" type="checkbox"></input>
                                    <label for="total-force-field-checkbox" id="total-force-color" class="color-box"></label>
                                </div>
                            </td>
                            <td>
                                <label for="total-force-field-checkbox" title="Total Force/Speed"> F(tot) or V </label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="displayParams__displayWrapper">
                                    <input id="attractive-force-field-checkbox" type="checkbox"></input>
                                    <label for="attractive-force-field-checkbox" id="attractive-force-color" class="color-box"></label>
                                </div>
                            </td>
                            <td>
                                <label for="attractive-force-field-checkbox" title="Attractive Force"> F(att) </label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="displayParams__displayWrapper">
                                    <input id="repulsive-force-total-field-checkbox" type="checkbox"></input>
                                    <label for="repulsive-force-total-field-checkbox" id="repulsive-force-total-color" class="color-box"></label>                                
                                </div>
                            </td>
                            <td>
                                <label for="repulsive-force-total-field-checkbox" title="Repulsive Force Total"> F(rep) total</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="displayParams__displayWrapper">
                                    <input id="repulsive-force-new-total-field-checkbox" type="checkbox"></input>
                                    <label for="repulsive-force-new-total-field-checkbox" id="repulsive-force-new-total-color" class="color-box"></label>                                
                                </div>
    
                            </td>
                            <td>
                                <label for="repulsive-force-new-total-field-checkbox" title="Repulsive New Force Total"> F(rep_new) total</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="displayParams__displayWrapper">
                                    <input id="repulsive-force-field-checkbox" type="checkbox"></input>
                                    <label for="repulsive-force-field-checkbox" id="repulsive-force-field-color" class="color-box"></label>                                
                                </div>
                            </td>
                            <td>
                                <label for="repulsive-force-field-checkbox" title="Repulsive Force"> F(rep) each obstacle</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="displayParams__displayWrapper">
                                    <input id="repulsive-force-new-field-checkbox" type="checkbox"></input>
                                    <label for="repulsive-force-new-field-checkbox" id="repulsive-force-new-field-color" class="color-box"></label>                                
                                </div>
    
                            </td>
                            <td>
                                <label for="repulsive-force-new-field-checkbox" title="Repulsive New Force"> F(rep_new) each obstacle</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="displayParams__displayWrapper">
                                    <input id="obstacles-radius-field-checkbox" type="checkbox"></input>
                                    <label for="obstacles-radius-field-checkbox" id="obstacles-field-radius-color" class="color-box"></label>
                                </div>
    
                            </td>
                            <td>
                                <label for="obstacles-radius-field-checkbox" title="Obstacles Field"> Obstacles Field (R) </label>
                            </td>
                        </tr>
                    </table>
                </details>
            </details>
            <details>
                <summary>Obstacles</summary>
            </details>
            <!-- <details>
                <summary>Target</summary>
            </details> -->
        </div>
        <div class="canvasWrapper">
            <canvas id="canvas" ></canvas>
            <button id="reset-vehicle" class="resetVehicle">Reset vehicle</button>
            <button id="pause-resume" class="pauseResume">Pause</button>
        </div>
    </div>
</body>
</html>